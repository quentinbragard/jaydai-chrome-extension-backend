# requirements.txt - Optimized with performance packages

# Core FastAPI with performance optimizations
fastapi[all]==0.104.1
uvicorn[standard]==0.24.0
gunicorn==21.2.0

# Database and ORM optimizations
supabase==2.0.2
asyncpg==0.29.0  # Faster PostgreSQL driver
psycopg2-binary==2.9.9  # Backup PostgreSQL driver

# Caching and performance
redis==5.0.1
hiredis==2.2.3  # Faster Redis client
aioredis==2.0.1  # Async Redis client

# HTTP and networking optimizations
#httpx[http2]==0.25.2  # HTTP/2 support
urllib3==2.1.0

# Data processing optimizations
orjson==3.9.10  # Faster JSON serialization
pydantic[email]==2.5.0
numpy==1.25.2  # For stats calculations

# Monitoring and observability
psutil==5.9.6  # System metrics
structlog==23.2.0  # Structured logging

# Security and validation
python-jwt==4.0.0
python-multipart==0.0.6

# Development and testing (keep minimal for production)
pytest==7.4.3
pytest-asyncio==0.21.1
pytest-cov==4.1.0
pytest-xdist==3.5.0  # Parallel test execution

# Utilities
python-dotenv==1.0.0
stripe==7.8.0
Pillow==10.1.0

# Performance monitoring
py-spy==0.3.14  # Profiling tool
memory-profiler==0.61.0

# Optional: Database connection pooling
sqlalchemy[asyncio]==2.0.23  # If you want to add SQLAlchemy later
asyncpg-stubs==0.29.0  # Type hints for asyncpg